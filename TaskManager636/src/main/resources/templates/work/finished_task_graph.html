<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Task Completion Graph</title>
    <link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        #taskChart {
            max-height: 500px;
        }
    </style>
</head>
<body>
<canvas id="taskChart" width="400" height="400"></canvas>
<script th:inline="javascript">
    /*<![CDATA[*/
    var ctx = document.getElementById('taskChart').getContext('2d');
    var taskData = /*[[${taskData}]]*/ 'default';
    var labels = Object.keys(taskData);
    var data = Object.values(taskData);
    var chart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: labels,
        datasets: [{
            label: 'Tasks Completed',
            data: data,
            backgroundColor: 'rgba(245, 96, 66, 0.2)',
            borderColor: 'rgba(245, 81, 66, 1)',
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: true,
        scales: {
            y: {
                beginAtZero: true,
                ticks: {
                    stepSize: 1,
                    precision: 0
                }
            }
        }
    }
});
    /*]]>*/
</script>
<div class="container" style="display: flex; justify-content: center; align-items: center; text-align: center;">
    <a href="/work" class="btn btn-primary">Work Dashboard</a>
    <a href="/logout" class="btn btn-danger">Logout</a>
</div>
</body>
</html>
